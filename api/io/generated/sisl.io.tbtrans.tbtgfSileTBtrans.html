<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sisl.io.tbtrans.tbtgfSileTBtrans &mdash; sisl 0.1.dev1+ga8efd77 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/sg_gallery.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="sisl.io.tbtrans.tbtsencSileTBtrans" href="sisl.io.tbtrans.tbtsencSileTBtrans.html" />
    <link rel="prev" title="sisl.io.tbtrans.deltancSileTBtrans" href="sisl.io.tbtrans.deltancSileTBtrans.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> sisl
          </a>
              <div class="version">
                0.1.dev1+ga8efd77
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../other.html">Other resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cite.html">Citing sisl</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scripts/scripts.html">Command line scripts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Toolboxes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../toolbox/index.html">Toolboxes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Visualization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../visualization/ase/index.html">ASE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../visualization/viz_module/index.html">The <code class="docutils literal notranslate"><span class="pre">sisl.viz</span></code> module</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basic.html">Basic classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../default_geom.html">Common geometries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../physics.html">Physical objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mixing.html">Mixing self-consistent quantities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../unit_constant.html">Units and constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../utilities.html">Utilities</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Input/Output</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../basic.html">Basic IO methods/classes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generic.html">Generic files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bigdft.html">BigDFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="../gulp.html">GULP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../openmx.html">OpenMX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scaleup.html">ScaleUP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../siesta.html">Siesta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../siesta.html#transiesta">TranSiesta</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../siesta.html#module-sisl.io.tbtrans">TBtrans</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.tbtncSileTBtrans.html">sisl.io.tbtrans.tbtncSileTBtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.deltancSileTBtrans.html">sisl.io.tbtrans.deltancSileTBtrans</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">sisl.io.tbtrans.tbtgfSileTBtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.tbtsencSileTBtrans.html">sisl.io.tbtrans.tbtsencSileTBtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.tbtavncSileTBtrans.html">sisl.io.tbtrans.tbtavncSileTBtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.tbtprojncSileTBtrans.html">sisl.io.tbtrans.tbtprojncSileTBtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.phtncSilePHtrans.html">sisl.io.tbtrans.phtncSilePHtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.phtsencSilePHtrans.html">sisl.io.tbtrans.phtsencSilePHtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.phtavncSilePHtrans.html">sisl.io.tbtrans.phtavncSilePHtrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="sisl.io.tbtrans.phtprojncSilePHtrans.html">sisl.io.tbtrans.phtprojncSilePHtrans</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../vasp.html">VASP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wannier90.html">Wannier90</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">sisl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">API documentation</a> &raquo;</li>
          <li><a href="../index.html">Input/Output</a> &raquo;</li>
          <li><a href="../siesta.html">Siesta</a> &raquo;</li>
      <li>sisl.io.tbtrans.tbtgfSileTBtrans</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/api/io/generated/sisl.io.tbtrans.tbtgfSileTBtrans.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="sisl-io-tbtrans-tbtgfsiletbtrans">
<h1>sisl.io.tbtrans.tbtgfSileTBtrans<a class="headerlink" href="#sisl-io-tbtrans-tbtgfsiletbtrans" title="Permalink to this headline"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">sisl.io.tbtrans.</span></span><span class="sig-name descname"><span class="pre">tbtgfSileTBtrans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">sisl.io.siesta._gfSileSiesta</span></code></p>
<p>Surface Green function file containing, Hamiltonian, overlap matrix and self-energies</p>
<p>Do not mix read and write statements when using this code. Complete one or the other
before doing the other thing. Fortran does not allow the same file opened twice, if this
is needed you are recommended to make a symlink to the file and thus open two different
files.</p>
<p>This small snippet reads/writes the GF file</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">sisl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">tbtgfSileTBtrans</span><span class="p">(</span><span class="s1">&#39;hello.GF&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">nspin</span><span class="p">,</span> <span class="n">no</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">E</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_header</span><span class="p">()</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">ispin</span><span class="p">,</span> <span class="n">new_k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">E</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>       <span class="k">if</span> <span class="n">new_k</span><span class="p">:</span>
<span class="gp">... </span>           <span class="n">H</span><span class="p">,</span> <span class="n">S</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_hamiltonian</span><span class="p">()</span>
<span class="gp">... </span>       <span class="n">SeHSE</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read_self_energy</span><span class="p">()</span>
</pre></div>
</div>
<p>To write a file do:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">sisl</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">tbtgfSileTBtrans</span><span class="p">(</span><span class="s1">&#39;hello.GF&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">f</span><span class="o">.</span><span class="n">write_header</span><span class="p">(</span><span class="n">sisl</span><span class="o">.</span><span class="n">MonkhorstPack</span><span class="p">(</span><span class="o">...</span><span class="p">),</span> <span class="n">E</span><span class="p">)</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">ispin</span><span class="p">,</span> <span class="n">new_k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">E</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>       <span class="k">if</span> <span class="n">new_k</span><span class="p">:</span>
<span class="gp">... </span>           <span class="n">f</span><span class="o">.</span><span class="n">write_hamiltonian</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">S</span><span class="p">)</span>
<span class="gp">... </span>       <span class="n">f</span><span class="o">.</span><span class="n">write_self_energy</span><span class="p">(</span><span class="n">SeHSE</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.Eindex" title="sisl.io.tbtrans.tbtgfSileTBtrans.Eindex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Eindex</span></code></a>(E)</p></td>
<td><p>Return the closest energy index corresponding to the energy <code class="docutils literal notranslate"><span class="pre">E</span></code></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.HkSk" title="sisl.io.tbtrans.tbtgfSileTBtrans.HkSk"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HkSk</span></code></a>([k, spin])</p></td>
<td><p>Retrieve H and S for the given k-point</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.dir_file" title="sisl.io.tbtrans.tbtgfSileTBtrans.dir_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dir_file</span></code></a>([filename, filename_base])</p></td>
<td><p>File of the current <em class="xref py py-obj">Sile</em></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.disk_usage" title="sisl.io.tbtrans.tbtgfSileTBtrans.disk_usage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disk_usage</span></code></a>()</p></td>
<td><p>Calculate the estimated size of the resulting file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.kindex" title="sisl.io.tbtrans.tbtgfSileTBtrans.kindex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kindex</span></code></a>(k)</p></td>
<td><p>Return the index of the k-point that is closests to the queried k-point (in reduced coordinates)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read" title="sisl.io.tbtrans.tbtgfSileTBtrans.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read</span></code></a>(*args, **kwargs)</p></td>
<td><p>Generic read method which should be overloaded in child-classes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_hamiltonian" title="sisl.io.tbtrans.tbtgfSileTBtrans.read_hamiltonian"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_hamiltonian</span></code></a>()</p></td>
<td><p>Return current Hamiltonian and overlap matrix from the GF file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_header" title="sisl.io.tbtrans.tbtgfSileTBtrans.read_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_header</span></code></a>()</p></td>
<td><p>Read the header of the file and open it for reading subsequently</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_self_energy" title="sisl.io.tbtrans.tbtgfSileTBtrans.read_self_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_self_energy</span></code></a>()</p></td>
<td><p>Read the currently reached bulk self-energy</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.self_energy" title="sisl.io.tbtrans.tbtgfSileTBtrans.self_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">self_energy</span></code></a>(E[, k, spin])</p></td>
<td><p>Retrieve self-energy for a given energy-point and k-point</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write" title="sisl.io.tbtrans.tbtgfSileTBtrans.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(*args, **kwargs)</p></td>
<td><p>Generic write method which should be overloaded in child-classes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_hamiltonian" title="sisl.io.tbtrans.tbtgfSileTBtrans.write_hamiltonian"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_hamiltonian</span></code></a>(H[, S])</p></td>
<td><p>Write the current energy, k-point and H and S to the file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_header" title="sisl.io.tbtrans.tbtgfSileTBtrans.write_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_header</span></code></a>(bz, E[, mu, obj])</p></td>
<td><p>Write to the binary file the header of the file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_self_energy" title="sisl.io.tbtrans.tbtgfSileTBtrans.write_self_energy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_self_energy</span></code></a>(SE)</p></td>
<td><p>Write the current self energy, k-point and H and S to the file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.base_file" title="sisl.io.tbtrans.tbtgfSileTBtrans.base_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">base_file</span></code></a></p></td>
<td><p>File of the current <em class="xref py py-obj">Sile</em></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.file" title="sisl.io.tbtrans.tbtgfSileTBtrans.file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">file</span></code></a></p></td>
<td><p>File of the current <em class="xref py py-obj">Sile</em></p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.Eindex">
<span class="sig-name descname"><span class="pre">Eindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.Eindex" title="Permalink to this definition"></a></dt>
<dd><p>Return the closest energy index corresponding to the energy <code class="docutils literal notranslate"><span class="pre">E</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>E</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – if <code class="docutils literal notranslate"><span class="pre">int</span></code>, return it-self, else return the energy index which is
closests to the energy.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.HkSk">
<span class="sig-name descname"><span class="pre">HkSk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.HkSk" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve H and S for the given k-point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><em>array_like of float</em><em>, </em><em>optional</em>) – k-point to read the corresponding Hamiltonian and overlap matrices
for. If a specific k-point is passed <a class="reference internal" href="#sisl.io.tbtrans.tbtgfSileTBtrans.kindex" title="sisl.io.tbtrans.tbtgfSileTBtrans.kindex"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kindex</span></code></a> will be used to find
the corresponding index.</p></li>
<li><p><strong>spin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – spin-index for the Hamiltonian and overlap matrices</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'r'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.__init__" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.base_file">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_file</span></span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.base_file" title="Permalink to this definition"></a></dt>
<dd><p>File of the current <em class="xref py py-obj">Sile</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.dir_file">
<span class="sig-name descname"><span class="pre">dir_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_base</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.dir_file" title="Permalink to this definition"></a></dt>
<dd><p>File of the current <em class="xref py py-obj">Sile</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.disk_usage">
<span class="sig-name descname"><span class="pre">disk_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.disk_usage" title="Permalink to this definition"></a></dt>
<dd><p>Calculate the estimated size of the resulting file</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>estimated disk-space used in GB</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.file">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">file</span></span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.file" title="Permalink to this definition"></a></dt>
<dd><p>File of the current <em class="xref py py-obj">Sile</em></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.kindex">
<span class="sig-name descname"><span class="pre">kindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.kindex" title="Permalink to this definition"></a></dt>
<dd><p>Return the index of the k-point that is closests to the queried k-point (in reduced coordinates)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>k</strong> (<em>array_like of float</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – the queried k-point in reduced coordinates <span class="math notranslate nohighlight">\(]-0.5;0.5]\)</span>. If <code class="docutils literal notranslate"><span class="pre">int</span></code>
return it-self.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read" title="Permalink to this definition"></a></dt>
<dd><p>Generic read method which should be overloaded in child-classes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – keyword arguments will try and search for the attribute <code class="docutils literal notranslate"><span class="pre">read_&lt;&gt;</span></code>
and call it with the remaining <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.read_hamiltonian">
<span class="sig-name descname"><span class="pre">read_hamiltonian</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_hamiltonian" title="Permalink to this definition"></a></dt>
<dd><p>Return current Hamiltonian and overlap matrix from the GF file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>complex128</strong> (<em>Hamiltonian matrix</em>)</p></li>
<li><p><strong>complex128</strong> (<em>Overlap matrix</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.read_header">
<span class="sig-name descname"><span class="pre">read_header</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_header" title="Permalink to this definition"></a></dt>
<dd><p>Read the header of the file and open it for reading subsequently</p>
<p>NOTES: this method may change in the future</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>nspin</strong> (<em>number of spin-components stored (1 or 2)</em>)</p></li>
<li><p><strong>no_u</strong> (<em>size of the matrices returned</em>)</p></li>
<li><p><strong>k</strong> (<em>k points in the GF file</em>)</p></li>
<li><p><strong>E</strong> (<em>energy points in the GF file</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.read_self_energy">
<span class="sig-name descname"><span class="pre">read_self_energy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.read_self_energy" title="Permalink to this definition"></a></dt>
<dd><p>Read the currently reached bulk self-energy</p>
<p>The returned self-energy is:</p>
<div class="math notranslate nohighlight">
\[\boldsymbol \Sigma_{\mathrm{bulk}}(E) = \mathbf S E - \mathbf H - \boldsymbol \Sigma(E)\]</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>complex128</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Self-energy matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.self_energy">
<span class="sig-name descname"><span class="pre">self_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.self_energy" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve self-energy for a given energy-point and k-point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – energy to retrieve self-energy at</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em> or </em><em>array_like of float</em><em>, </em><em>optional</em>) – k-point to retrieve k-point at</p></li>
<li><p><strong>spin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a><em>, </em><em>optional</em>) – spin-index to retrieve self-energy at</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write" title="Permalink to this definition"></a></dt>
<dd><p>Generic write method which should be overloaded in child-classes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> – keyword arguments will try and search for the attribute <em class="xref py py-obj">write_</em>
and call it with the remaining <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.write_hamiltonian">
<span class="sig-name descname"><span class="pre">write_hamiltonian</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">H</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">S</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_hamiltonian" title="Permalink to this definition"></a></dt>
<dd><p>Write the current energy, k-point and H and S to the file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>H</strong> (<em>matrix</em>) – a square matrix corresponding to the Hamiltonian</p></li>
<li><p><strong>S</strong> (<em>matrix</em><em>, </em><em>optional</em>) – a square matrix corresponding to the overlap, for efficiency reasons
it may be advantageous to specify this argument for orthogonal cells.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.write_header">
<span class="sig-name descname"><span class="pre">write_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_header" title="Permalink to this definition"></a></dt>
<dd><p>Write to the binary file the header of the file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bz</strong> (<a class="reference internal" href="../../generated/sisl.physics.BrillouinZone.html#sisl.physics.BrillouinZone" title="sisl.physics.BrillouinZone"><em>BrillouinZone</em></a>) – contains the k-points, the weights and possibly the parent Hamiltonian (if <em class="xref py py-obj">obj</em> is None)s</p></li>
<li><p><strong>E</strong> (<em>array_like of cmplx</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a>) – the energy points. If <em class="xref py py-obj">obj</em> is an instance of <em class="xref py py-obj">SelfEnergy</em> where an
associated <code class="docutils literal notranslate"><span class="pre">eta</span></code> is defined then <em class="xref py py-obj">E</em> may be float, otherwise
it <em>has</em> to be a complex array.</p></li>
<li><p><strong>mu</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.10)"><em>float</em></a><em>, </em><em>optional</em>) – chemical potential in the file</p></li>
<li><p><strong>obj</strong> (<em>...</em><em>, </em><em>optional</em>) – an object that contains the Hamiltonian definitions, defaults to <code class="docutils literal notranslate"><span class="pre">bz.parent</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="sisl.io.tbtrans.tbtgfSileTBtrans.write_self_energy">
<span class="sig-name descname"><span class="pre">write_self_energy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">SE</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#sisl.io.tbtrans.tbtgfSileTBtrans.write_self_energy" title="Permalink to this definition"></a></dt>
<dd><p>Write the current self energy, k-point and H and S to the file</p>
<p>The self-energy must correspond to the <em>bulk</em> self-energy</p>
<div class="math notranslate nohighlight">
\[\boldsymbol \Sigma_{\mathrm{bulk}}(E) = \mathbf S E - \mathbf H - \boldsymbol \Sigma(E)\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>SE</strong> (<em>matrix</em>) – a square matrix corresponding to the self-energy (Green function)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sisl.io.tbtrans.deltancSileTBtrans.html" class="btn btn-neutral float-left" title="sisl.io.tbtrans.deltancSileTBtrans" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sisl.io.tbtrans.tbtsencSileTBtrans.html" class="btn btn-neutral float-right" title="sisl.io.tbtrans.tbtsencSileTBtrans" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2015-2022, Nick Papior.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>